# K8s Cluster Snapshot

**Date:** 2025-12-20 03:00:01 UTC | **Host:** nlk8s-ctrl01 | **Version:** 3.1.0

> ðŸ“– Full documentation: [Nuclear Lighters Infrastructure README](https://gitlab.example.net/infrastructure/nl/production/-/blob/main/README.md)

## Health Status: âœ… HEALTHY

| Check | Status |
|-------|--------|
| Unhealthy Pods | 0 |
| Pending PVCs | 0 |
| Warning Events (last 1h) | 7 |

## Overview

| Metric | Value |
|--------|-------|
| K8s Version | v1.34.2 |
| Nodes | 8 (3 ctrl, 5 workers) |
| Pods | 153 |
| Services | 85 |
| PVCs | 21 |
| Helm Releases | 14 |

## Custom Resources

| Resource | Count |
|----------|-------|
| ArgoCD Applications | 4 |
| External Secrets | 15 |
| Certificates | 4 |

## Nodes
```
NAME                 STATUS   ROLES           AGE   VERSION   INTERNAL-IP     EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION      CONTAINER-RUNTIME
nlk8s-ctrl01   Ready    control-plane   46d   v1.34.2   10.0.X.X   <none>        Ubuntu 24.04.3 LTS   6.14.0-36-generic   containerd://2.1.5
nlk8s-ctrl02   Ready    control-plane   44d   v1.34.2   10.0.X.X   <none>        Ubuntu 24.04.3 LTS   6.17.2-2-pve        containerd://2.1.5
nlk8s-ctrl03   Ready    control-plane   46d   v1.34.2   10.0.X.X   <none>        Ubuntu 24.04.3 LTS   6.14.0-36-generic   containerd://2.1.5
nlk8s-node01    Ready    worker          45d   v1.34.2   10.0.X.X   <none>        Ubuntu 24.04.3 LTS   6.8.0-88-generic    containerd://2.1.5
nlk8s-node02    Ready    worker          45d   v1.34.2   10.0.X.X   <none>        Ubuntu 24.04.3 LTS   6.8.0-88-generic    containerd://2.1.5
nlk8s-node03    Ready    worker          45d   v1.34.2   10.0.X.X   <none>        Ubuntu 24.04.3 LTS   6.8.0-88-generic    containerd://2.1.5
nlk8s-node04    Ready    worker          45d   v1.34.2   10.0.X.X   <none>        Ubuntu 24.04.3 LTS   6.8.0-88-generic    containerd://2.1.5
notrf01k8s-node01    Ready    worker          14d   v1.34.2   10.255.3.11     <none>        Ubuntu 24.04.3 LTS   6.8.0-90-generic    containerd://2.1.5
```

## Unhealthy Pods
```
None - all pods healthy!
```

## Deployments
```
NAMESPACE                NAME                                              READY   UP-TO-DATE   AVAILABLE   AGE
argocd                   argocd-applicationset-controller                  1/1     1            1           24d
argocd                   argocd-redis                                      1/1     1            1           24d
argocd                   argocd-repo-server                                2/2     2            2           24d
argocd                   argocd-server                                     2/2     2            2           24d
awx                      awx-operator-controller-manager                   1/1     1            1           45d
awx                      my-awx-task                                       1/1     1            1           45d
awx                      my-awx-web                                        1/1     1            1           45d
bentopdf                 bentopdf                                          1/1     1            1           20d
cert-manager             cert-manager                                      1/1     1            1           19d
cert-manager             cert-manager-cainjector                           1/1     1            1           19d
cert-manager             cert-manager-webhook                              1/1     1            1           19d
external-secrets         external-secrets                                  1/1     1            1           20d
external-secrets         external-secrets-cert-controller                  1/1     1            1           20d
external-secrets         external-secrets-webhook                          1/1     1            1           20d
gatus                    gatus                                             1/1     1            1           3d1h
REDACTED_01b50c5d   REDACTED_ab04b573-v2                         2/2     2            2           25d
ingress-nginx            ingress-nginx-controller                          2/2     2            2           44d
kube-system              cilium-operator                                   1/1     1            1           21d
kube-system              clustermesh-apiserver                             1/1     1            1           13d
kube-system              coredns                                           2/2     2            2           46d
kube-system              hubble-relay                                      1/1     1            1           21d
kube-system              hubble-ui                                         1/1     1            1           21d
kube-system              metrics-server                                    1/1     1            1           45d
kube-system              tetragon-operator                                 1/1     1            1           13h
REDACTED_d97cef76     REDACTED_d97cef76-api                          1/1     1            1           7d15h
REDACTED_d97cef76     REDACTED_d97cef76-auth                         1/1     1            1           7d15h
REDACTED_d97cef76     REDACTED_d97cef76-kong                         1/1     1            1           7d15h
REDACTED_d97cef76     REDACTED_d97cef76-metrics-scraper              1/1     1            1           7d15h
REDACTED_d97cef76     REDACTED_d97cef76-web                          1/1     1            1           7d15h
monitoring               bgpalerter                                        1/1     1            1           5d11h
monitoring               monitoring-grafana                                2/2     2            2           22d
monitoring               monitoring-kube-prometheus-operator               1/1     1            1           44d
monitoring               monitoring-kube-state-metrics                     1/1     1            1           44d
monitoring               snmp-exporter                                     1/1     1            1           7d7h
monitoring               thanos-query                                      2/2     2            2           8d
nfs-provisioner          nfs-provisioner-REDACTED_5fef70be   1/1     1            1           44d
pihole                   pihole                                            1/1     1            1           20d
portfolio                portfolio                                         2/2     2            2           3d14h
seaweedfs                seaweedfs-filer-sync                              1/1     1            1           8d
velero                   velero                                            1/1     1            1           24d
velero                   velero-ui                                         1/1     1            1           24d
well-known               well-known                                        1/1     1            1           2d12h
```

## StatefulSets
```
NAMESPACE      NAME                                                   READY   AGE
argocd         argocd-application-controller                          1/1     24d
awx            my-awx-postgres-15                                     1/1     45d
cilium-spire   spire-server                                           1/1     21d
logging        loki                                                   1/1     9h
monitoring     alertmanager-monitoring-kube-prometheus-alertmanager   2/2     22d
monitoring     prometheus-REDACTED_6dfbe9fc       2/2     22d
monitoring     thanos-compactor                                       1/1     8d
monitoring     thanos-store                                           2/2     8d
seaweedfs      seaweedfs-filer                                        2/2     9d
seaweedfs      seaweedfs-master                                       3/3     9d
seaweedfs      seaweedfs-volume                                       2/2     9d
synology-csi   synology-csi-controller                                1/1     22d
```

## Services (LoadBalancer)
```
NAMESPACE       NAME                       TYPE           CLUSTER-IP       EXTERNAL-IP     PORT(S)                      AGE
ingress-nginx   ingress-nginx-controller   LoadBalancer   10.103.32.106    10.0.X.X   80:31689/TCP,443:30327/TCP   44d
kube-system     clustermesh-apiserver      LoadBalancer   10.102.123.248   10.0.X.X   2379:30462/TCP               13d
kube-system     hubble-relay-lb            LoadBalancer   10.110.32.130    10.0.X.X   80:30629/TCP                 21d
logging         promtail-syslog            LoadBalancer   10.105.64.19     10.0.X.X   514:30623/TCP                19d
pihole          pihole-dns-lb              LoadBalancer   10.99.196.72     10.0.X.X   53:31803/UDP                 21d
pihole          pihole-dns-tcp-lb          LoadBalancer   10.106.199.199   10.0.X.X   53:30438/TCP                 21d
```

## Ingresses
```
NAMESPACE              NAME                   CLASS    HOSTS                                                   ADDRESS         PORTS     AGE
argocd                 argocd-server          nginx    argocd.example.net                              10.0.X.X   80, 443   24d
awx                    awx                    nginx    awx.example.net                                 10.0.X.X   80        23d
bentopdf               bentopdf               nginx    bentopdf.example.net                            10.0.X.X   80        20d
gatus                  gatus                  nginx    status.example.net                              10.0.X.X   80, 443   3d1h
kube-system            hubble-ui              nginx    nl-hubble.example.net                           10.0.X.X   80        8d
REDACTED_d97cef76   REDACTED_d97cef76   nginx    nl-k8s.example.net                              10.0.X.X   80        7d15h
monitoring             goldpinger             nginx    goldpinger.example.net                          10.0.X.X   80        12d
monitoring             grafana                nginx    grafana.example.net                             10.0.X.X   80        23d
monitoring             prometheus             nginx    nl-prometheus.example.net                       10.0.X.X   80        7d5h
monitoring             thanos-query           nginx    nl-thanos.example.net                           10.0.X.X   80        8d
pihole                 pihole-ingress         nginx    pihole.example.net                              10.0.X.X   80        25d
portfolio              portfolio              nginx    kyriakos.papadopoulos.tech                              10.0.X.X   80, 443   3d14h
seaweedfs              seaweedfs-master       <none>   nl-seaweedfs.example.net                        10.0.X.X   80        9d
seaweedfs              seaweedfs-s3           <none>   nl-s3.example.net                               10.0.X.X   80        9d
velero                 velero-ui              nginx    velero.example.net                              10.0.X.X   80        24d
well-known             well-known             nginx    status.example.net,kyriakos.papadopoulos.tech   10.0.X.X   80, 443   2d13h
```

## PVCs
```
NAMESPACE      NAME                                                                                                             STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS                              VOLUMEATTRIBUTESCLASS   AGE
awx            my-awx-projects                                                                                                  Bound    awx-projects-pv                            50Gi       RWX            nfs-sc                                    <unset>                 45d
awx            REDACTED_0d7ca6a5                                                                                 Bound    REDACTED_c7d87e23   50Gi       RWO            REDACTED_b280aec5   <unset>                 22d
cilium-spire   spire-data-spire-server-0                                                                                        Bound    pvc-6f3da11a-d6a0-4cd0-8f14-d35dfd334075   1Gi        RWO            nfs-client                                <unset>                 21d
gatus          gatus-data                                                                                                       Bound    pvc-27e7fb57-1824-4691-8bdf-d6fe8cf4308e   1Gi        RWO            REDACTED_4f3da73d   <unset>                 3d1h
logging        storage-loki-0                                                                                                   Bound    pvc-6ed8d5cf-de3a-4647-b708-4d1c536b65a3   100Gi      RWO            REDACTED_4f3da73d   <unset>                 9h
monitoring     alertmanager-monitoring-kube-prometheus-alertmanager-db-alertmanager-monitoring-kube-prometheus-alertmanager-0   Bound    REDACTED_3f07e323   10Gi       RWO            REDACTED_4f3da73d   <unset>                 22d
monitoring     alertmanager-monitoring-kube-prometheus-alertmanager-db-alertmanager-monitoring-kube-prometheus-alertmanager-1   Bound    REDACTED_c70a75d3   10Gi       RWO            REDACTED_4f3da73d   <unset>                 22d
monitoring     data-thanos-compactor-0                                                                                          Bound    pvc-084b276c-cd96-418b-b812-8ab544f266e0   50Gi       RWO            REDACTED_4f3da73d   <unset>                 8d
monitoring     data-thanos-store-0                                                                                              Bound    pvc-4626b504-0d0e-400f-bcad-11bac07a620e   20Gi       RWO            REDACTED_4f3da73d   <unset>                 8d
monitoring     data-thanos-store-1                                                                                              Bound    pvc-8131f71b-9d24-4dff-9921-a7c29f7e685f   20Gi       RWO            REDACTED_4f3da73d   <unset>                 8d
monitoring     monitoring-grafana                                                                                               Bound    pvc-55805781-0f58-4d80-9074-a62cec165932   20Gi       RWO            nfs-client                                <unset>                 22d
monitoring     prometheus-REDACTED_6dfbe9fc-db-prometheus-REDACTED_6dfbe9fc-0           Bound    REDACTED_b1b2f2d4   200Gi      RWO            REDACTED_4f3da73d   <unset>                 22d
monitoring     prometheus-REDACTED_6dfbe9fc-db-prometheus-REDACTED_6dfbe9fc-1           Bound    REDACTED_628b3ba4   200Gi      RWO            REDACTED_4f3da73d   <unset>                 22d
pihole         pihole-data                                                                                                      Bound    pvc-b45463d9-aa5b-483e-92b8-54fee6635219   1Gi        RWO            nfs-client                                <unset>                 25d
seaweedfs      data-filer-seaweedfs-filer-0                                                                                     Bound    pvc-e574729a-4132-468f-b4af-d88ce08468f0   20Gi       RWO            REDACTED_b280aec5   <unset>                 9d
seaweedfs      data-filer-seaweedfs-filer-1                                                                                     Bound    pvc-42bee4bd-ab46-42be-8ccd-642ec74221ee   20Gi       RWO            REDACTED_b280aec5   <unset>                 9d
seaweedfs      data-seaweedfs-seaweedfs-master-0                                                                                Bound    pvc-39f3167b-3e0e-42e3-a75d-72873e0a7bfd   10Gi       RWO            REDACTED_b280aec5   <unset>                 9d
seaweedfs      data-seaweedfs-seaweedfs-master-1                                                                                Bound    pvc-4a8dfc7c-b16a-44b5-9cc4-333d0a1701a4   10Gi       RWO            REDACTED_b280aec5   <unset>                 9d
seaweedfs      data-seaweedfs-seaweedfs-master-2                                                                                Bound    pvc-f0189cfc-c9df-4767-b6e5-8aa6b18c86e2   10Gi       RWO            REDACTED_b280aec5   <unset>                 9d
seaweedfs      data-seaweedfs-volume-0                                                                                          Bound    pvc-07566600-8138-491c-81cc-91980c3e6439   500Gi      RWO            REDACTED_b280aec5   <unset>                 9d
seaweedfs      data-seaweedfs-volume-1                                                                                          Bound    pvc-0aae4175-8eae-4b7b-bede-f4567046720c   500Gi      RWO            REDACTED_b280aec5   <unset>                 9d
```

## Helm Releases
```
NAME                	NAMESPACE             	REVISION	UPDATED                                	STATUS  	CHART                                 	APP VERSION
argocd              	argocd                	3       	2025-11-29 02:18:52.98547378 +0000 UTC 	deployed	argo-cd-7.7.10                        	v2.13.2    
cert-manager        	cert-manager          	3       	2025-11-30 21:22:09.520251302 +0000 UTC	deployed	cert-manager-v1.17.1                  	v1.17.1    
cilium              	kube-system           	20      	2025-12-12 16:06:57.516153767 +0000 UTC	deployed	cilium-1.18.4                         	1.18.4     
external-secrets    	external-secrets      	2       	2025-12-16 13:20:23.175188029 +0000 UTC	deployed	external-secrets-1.1.1                	v1.1.1     
ingress-nginx       	ingress-nginx         	8       	2025-12-17 17:38:33.246089847 +0000 UTC	deployed	ingress-nginx-4.14.0                  	1.14.0     
k8s-agent           	REDACTED_01b50c5d	6       	2025-11-29 02:18:29.271243252 +0000 UTC	deployed	gitlab-agent-2.21.1                   	v18.6.1    
REDACTED_d97cef76	REDACTED_d97cef76  	1       	2025-12-12 11:22:00.351838712 +0000 UTC	deployed	REDACTED_d97cef76-7.14.0           	           
loki                	logging               	10      	2025-12-20 00:53:40.31805239 +0000 UTC 	deployed	loki-6.46.0                           	3.5.7      
monitoring          	monitoring            	22      	2025-12-12 20:41:08.664039333 +0000 UTC	deployed	REDACTED_d8074874-79.10.0         	v0.86.2    
nfs-provisioner     	nfs-provisioner       	8       	2025-11-29 02:18:25.900770326 +0000 UTC	deployed	REDACTED_5fef70be-4.0.18	4.0.2      
promtail            	logging               	7       	2025-12-20 00:06:56.11230417 +0000 UTC 	deployed	promtail-6.17.1                       	3.5.1      
seaweedfs           	seaweedfs             	1       	2025-12-11 00:12:58.814719121 +0000 UTC	deployed	seaweedfs-4.0.401                     	4.01       
synology-csi        	synology-csi          	2       	2025-11-29 02:18:25.854988376 +0000 UTC	deployed	synology-csi-0.10.1                   	v1.2.0     
tetragon            	kube-system           	6       	2025-12-20 00:53:38.472915401 +0000 UTC	deployed	tetragon-1.6.0                        	1.6.0      
```

## ArgoCD Applications
```
NAMESPACE   NAME                 SYNC STATUS   HEALTH STATUS
argocd      bentopdf             Synced        Healthy
argocd      pihole               Synced        Healthy
argocd      portfolio-kyriakos   Synced        Healthy
argocd      velero               Synced        Healthy
```

## Velero Schedules
```
NAME            STATUS    SCHEDULE    LASTBACKUP   AGE   PAUSED
daily-backup    Enabled   0 2 * * *   60m          24d   
weekly-backup   Enabled   0 3 * * 0   6d           24d   
```

## Warning Events (Recent)
```
NAMESPACE      LAST SEEN   TYPE      REASON             OBJECT                                  MESSAGE
kube-system    59m         Warning   Unhealthy          pod/kube-apiserver-nlk8s-ctrl02   Readiness probe failed: HTTP probe failed with statuscode: 500
kube-system    45m         Warning   Unhealthy          pod/kube-apiserver-nlk8s-ctrl01   Liveness probe failed: HTTP probe failed with statuscode: 500
kube-system    4m10s       Warning   DNSConfigForming   pod/cilium-rhcsd                        Nameserver limits were exceeded, some nameservers have been omitted, the applied nameserver line is: 1.1.1.1 1.0.0.1 1.1.1.1
synology-csi   3m36s       Warning   DNSConfigForming   pod/synology-csi-node-n4rjm             Nameserver limits were exceeded, some nameservers have been omitted, the applied nameserver line is: 1.1.1.1 1.0.0.1 1.1.1.1
kube-system    3m32s       Warning   DNSConfigForming   pod/cilium-envoy-6ws74                  Nameserver limits were exceeded, some nameservers have been omitted, the applied nameserver line is: 1.1.1.1 1.0.0.1 1.1.1.1
kube-system    2m6s        Warning   DNSConfigForming   pod/tetragon-pmkf8                      Nameserver limits were exceeded, some nameservers have been omitted, the applied nameserver line is: 1.1.1.1 1.0.0.1 1.1.1.1
kube-system    87s         Warning   Unhealthy          pod/kube-apiserver-nlk8s-ctrl01   Readiness probe failed: HTTP probe failed with statuscode: 500
```

---
*Generated by k8s-cluster-snapshot.sh v3.1.0*
